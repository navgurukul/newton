{
	"ideas-for-similar-programs_2_key1": "Ideas for Similar Programs\n",
	"ideas-for-similar-programs_2_key2": "The benefit of `tab`bed browsing is that you can easily open links in new `tabs` to peruse later. A program that automatically opens several links at once can be a nice shortcut to do the following:\n",
	"ideas-for-similar-programs_2_key3": "Open all the product pages after searching a shopping site such as Amazon\n",
	"ideas-for-similar-programs_2_key4": "Open all the links to reviews for a single product\n",
	"ideas-for-similar-programs_2_key5": "Open the result links to photos after performing a search on a photo site such as Flickr or Imgur\n",
	"ideas-for-similar-programs_2_key6": "Project: Downloading All XKCD Comics\n",
	"ideas-for-similar-programs_2_key7": "Blogs and other regularly updating websites usually have a front page with the most recent post as well as a Previous button on the page that takes you to the previous post. Then that post will also have a Previous button, and so on, creating a trail from the most recent page to the first post on the site. If you wanted a copy of the site’s content to read when you’re not online, you could manually navigate over every page and `save` each one. But this is pretty boring work, so let’s write a program to do it instead.\n",
	"ideas-for-similar-programs_2_key8": "XKCD is a popular geek webcomic with a website that fits this structure (see Figure 11-6). The front page at <span><a href=\"http://xkcd.com/\">http://xkcd.com/</a></span> has a Prev button that guides the user back through prior comics. Downloading each comic by hand would take forever, but you can write a script to do this in a couple of minutes.\n",
	"ideas-for-similar-programs_2_key9": "Here’s what your program does:\n",
	"ideas-for-similar-programs_2_key10": "Loads the XKCD home page.\n",
	"ideas-for-similar-programs_2_key11": "`Saves` the comic image on that page.\n",
	"ideas-for-similar-programs_2_key12": "Follows the Previous Comic link.\n",
	"ideas-for-similar-programs_2_key13": "Repeats until it reaches the first comic.\n",
	"ideas-for-similar-programs_2_key14": " -->\n “a webcomic of romance, sarcasm, math, and language”\n",
	"ideas-for-similar-programs_2_key15": "This means your `code` will need to do the following:\n",
	"ideas-for-similar-programs_2_key16": "Download pages with the requests module.\n",
	"ideas-for-similar-programs_2_key17": "Find the URL of the comic image for a page using Beautiful Soup.\n",
	"ideas-for-similar-programs_2_key18": "Download and `save` the comic image to the hard drive with iter_content().\n",
	"ideas-for-similar-programs_2_key19": "Find the URL of the Previous Comic link, and repeat.\n",
	"ideas-for-similar-programs_2_key20": "Open a new `file` `editor` window and `save` it as downloadXkcd.py.\n",
	"ideas-for-similar-programs_2_key21": "Step 1: Design the Program\n",
	"ideas-for-similar-programs_2_key22": "If you open the browser’s developer tools and inspect the elements on the page, you’ll find the following:\n",
	"ideas-for-similar-programs_2_key23": "The URL of the comic’s image `file` is given by the href attribute of an <img> element.\n",
	"ideas-for-similar-programs_2_key24": "The <img> element is inside a <div id=\"comic\"> element.\n",
	"ideas-for-similar-programs_2_key25": "The Prev button has a rel HTML attribute with the value prev.\n",
	"ideas-for-similar-programs_2_key26": "The first comic’s Prev button links to the <span><a href=\"http://xkcd.com/#\">http://xkcd.com/#</a></span> URL, indicating that there are no more previous pages.\n",
	"ideas-for-similar-programs_2_key27": "Make your `code` look like the following:\n",
	"ideas-for-similar-programs_2_key28": "#! `python3`\n",
	"ideas-for-similar-programs_2_key29": "downloadXkcd.py - Downloads every single XKCD comic.\n",
	"ideas-for-similar-programs_2_key30": "import requests, os, bs4\n",
	"ideas-for-similar-programs_2_key31": "url = <span><a href=\"'http://xkcd.com'\">'http://xkcd.com'</a></span>            \n",
	"ideas-for-similar-programs_2_key32": "starting url\n",
	"ideas-for-similar-programs_2_key33": "os.makedirs('xkcd', exist_ok=`True`)   # store comics in ./xkcd\nwhile not url.endswith('#'):\n    # TODO: Download the page.\n",
	"ideas-for-similar-programs_2_key34": "print('Done.')\nYou’ll have a url `variable` that starts with the value '\n",
	"ideas-for-similar-programs_2_key35": "http://xkcd.com&#39;\n",
	"ideas-for-similar-programs_2_key36": " and repeatedly update it (in a for `loop`) with the URL of the current page’s Prev link. At every step in the `loop`, you’ll download the comic at url. You’ll know to end the `loop` when url ends with '#'.\n",
	"ideas-for-similar-programs_2_key37": "You will download the image `files` to a folder in the current working directory named xkcd. The call os.makedirs() ensures that this folder exists, and the exist_ok=`True` `key`word argument prevents the function from throwing an exception if this folder already exists. The rest of the `code` is just comments that outline the rest of your program.\n",
	"ideas-for-similar-programs_2_key38": "Step 2: Download the Web Page\n",
	"ideas-for-similar-programs_2_key39": "Let’s implement the `code` for downloading the page. Make your `code` look like the following:\n",
	"ideas-for-similar-programs_2_key40": "#! `python3`\n",
	"ideas-for-similar-programs_2_key41": "downloadXkcd.py - Downloads every single XKCD comic.\n",
	"ideas-for-similar-programs_2_key42": "import requests, os, bs4\n",
	"ideas-for-similar-programs_2_key43": "url = <span><a href=\"'http://xkcd.com'\">'http://xkcd.com'</a></span>              \n    # starting url\nos.makedirs('xkcd', exist_ok=`True`)   # store comics in ./xkcd\nwhile not url.endswith('#'):\n",
	"ideas-for-similar-programs_2_key44": "print('Done.')\nFirst, print url so that the user knows which URL the program is about to download; then use the requests module’s request.get() function to download it. As always, you immediately call the Response object’s raise_for_status() method to throw an exception and end the program if something went wrong with the download. Otherwise, you create a BeautifulSoup object from the text of the downloaded page.\n",
	"ideas-for-similar-programs_2_key45": "Step 3: Find and Download the Comic Image\n",
	"ideas-for-similar-programs_2_key46": "Make your `code` look like the following:\n",
	"ideas-for-similar-programs_2_key47": "#! `python3`\n",
	"ideas-for-similar-programs_2_key48": "downloadXkcd.py - Downloads every single XKCD comic.\n",
	"ideas-for-similar-programs_2_key49": "import requests, os, bs4\n",
	"ideas-for-similar-programs_2_key50": "--snip--\n",
	"ideas-for-similar-programs_2_key51": "print('Done.')\nFrom inspecting the XKCD home page with your developer tools, you know that the <img> element for the comic image is inside a <div> element with the id attribute set to comic, so the selector '#comic img' will get you the correct <img> element from the BeautifulSoup object.\n",
	"ideas-for-similar-programs_2_key52": "A few XKCD pages have special content that isn’t a simple image `file`. That’s fine; you’ll just skip those. If your selector doesn’t find any elements, then soup.select('#comic img') will return a blank list. When that happens, the program can just print an `error` message and move on without downloading the image.\n",
	"ideas-for-similar-programs_2_key53": "Otherwise, the selector will return a list containing one <img> element. You can get the src attribute from this <img> element and pass it to requests.get() to download the comic’s image `file`.\n",
	"ideas-for-similar-programs_2_key54": "Step 4: `Save` the Image and Find the Previous Comic\n",
	"ideas-for-similar-programs_2_key55": "Make your `code` look like the following:\n",
	"ideas-for-similar-programs_2_key56": "import requests, os, bs4\n",
	"ideas-for-similar-programs_2_key57": "--snip--\n",
	"ideas-for-similar-programs_2_key58": "print('Done.')\nAt this point, the image `file` of the comic is stored in the res `variable`. You need to write this image data to a `file` on the hard drive.\n",
	"ideas-for-similar-programs_2_key59": "You’ll need a `file`name for the local image `file` to pass to open(). The comicUrl will have a value like <span><a href=\"'http://imgs.xkcd.com/comics/heartbleed_explanation.png'—which \">'http://imgs.xkcd.com/comics/heartbleed_explanation.png'—which </a></span> you might have noticed looks a lot like a `file` path. And in fact, you can call os.path.basename() with comicUrl, and it will return just the last part of the URL, 'heartbleed_explanation.png'. You can use this as the `file`name when saving the image to your hard drive. You join this name with the name of your xkcd folder using os.path.join() so that your program uses backslashes (\\) on Windows and forward slashes (/) on OS X and Linux. Now that you finally have the `file`name, you can call open() to open a new `file` in 'wb' “write binary” mode.\n",
	"ideas-for-similar-programs_2_key60": "Remember from earlier in this chapter that to `save` `files` you’ve downloaded using Requests, you need to `loop` over the return value of the iter_content() method. The `code` in the for `loop` writes out chunks of the image data (at most 100,000 bytes each) to the `file` and then you close the `file`. The image is now `save`d to your hard drive.\n",
	"ideas-for-similar-programs_2_key61": "Afterward, the selector 'a[rel=\"prev\"]' identifies the <a> element with the rel attribute set to prev, and you can use this <a> element’s href attribute to get the previous comic’s URL, which gets stored in url. Then the while `loop` begins the entire download process again for this comic.\n",
	"ideas-for-similar-programs_2_key62": "The `output` of this program will look like this:\n",
	"ideas-for-similar-programs_2_key63": "Downloading page <span><a href=\"http://xkcd.com...\">http://xkcd.com...</a></span>\nDownloading image <span><a href=\"http://imgs.xkcd.com/comics/phone_alarm.png...\">http://imgs.xkcd.com/comics/phone_alarm.png...</a></span>\nDownloading page <span><a href=\"http://xkcd.com/1358/...\">http://xkcd.com/1358/...</a></span>\nDownloading image <span><a href=\"http://imgs.xkcd.com/comics/nro.png...\">http://imgs.xkcd.com/comics/nro.png...</a></span>\nDownloading page <span><a href=\" http://xkcd.com/1357/...\"> http://xkcd.com/1357/...</a></span>\nDownloading image <span><a href=\"http://imgs.xkcd.com/comics/free_speech.png...\">http://imgs.xkcd.com/comics/free_speech.png...</a></span>\nDownloading page <span><a href=\" http://xkcd.com/1356/...\"> http://xkcd.com/1356/...</a></span>\nDownloading image <span><a href=\"http://imgs.xkcd.com/comics/orbital_mechanics.png...\">http://imgs.xkcd.com/comics/orbital_mechanics.png...</a></span>\nDownloading page <span><a href=\" http://xkcd.com/1355/...\"> http://xkcd.com/1355/...</a></span>\nDownloading image <span><a href=\"http://imgs.xkcd.com/comics/airplane_message.png...\">http://imgs.xkcd.com/comics/airplane_message.png...</a></span>\nDownloading page <span><a href=\" http://xkcd.com/1354/...\"> http://xkcd.com/1354/...</a></span>\nDownloading image <span><a href=\"http://imgs.xkcd.com/comics/heartbleed_explanation.png...\">http://imgs.xkcd.com/comics/heartbleed_explanation.png...</a></span>\n--snip--\nThis project is a good example of a program that can automatically follow links in order to scrape large amounts of data from the Web. You can learn about Beautiful Soup’s other features from its documentation at <span><a href=\"http://www.crummy.com/software/BeautifulSoup/bs4/doc/.\">http://www.crummy.com/software/BeautifulSoup/bs4/doc/.</a></span>\n",
	"ideas-for-similar-programs_2_key64": "Ideas for Similar Programs\n",
	"ideas-for-similar-programs_2_key65": "Downloading pages and following links are the basis of many web crawling programs. Similar programs could also do the following:\n",
	"ideas-for-similar-programs_2_key66": "Back up an entire site by following all of its links.\n",
	"ideas-for-similar-programs_2_key67": "Copy all the messages off a web forum.\n",
	"ideas-for-similar-programs_2_key68": "Duplicate the catalog of items for sale on an online store.\n",
	"ideas-for-similar-programs_2_key69": "The requests and BeautifulSoup modules are great as long as you can figure out the URL you need to pass to requests.get(). However, sometimes this isn’t so easy to find. Or perhaps the website you want your program to navigate requires you to log in first. The selenium module will give your programs the power to perform such sophisticated tasks.\n"
}