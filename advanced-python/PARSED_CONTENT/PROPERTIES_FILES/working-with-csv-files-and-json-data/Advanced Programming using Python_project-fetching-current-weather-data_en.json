{
	"project-fetching-current-weather-data_key1": "name:  project-fetching-current-weather-data\n",
	"project-fetching-current-weather-data_key2": "# Project: Fetching Current Weather Data\n\n",
	"project-fetching-current-weather-data_key3": "Checking the weather seems fairly trivial: Open your web browser, click the address bar, type the URL to a weather website (or search for one and then click the link), wait for the page to load, look past all the ads, and so on.\n",
	"project-fetching-current-weather-data_key4": "Actually, there are a lot of boring steps you could skip if you had a program that downloaded the weather forecast for the next few days and printed it as plaintext. This program uses the requests module from Chapter 11 to download data from the Web.\n",
	"project-fetching-current-weather-data_key5": "Overall, the program does the following:\n",
	"project-fetching-current-weather-data_key6": "Reads the requested location from the command line.\n",
	"project-fetching-current-weather-data_key7": "Downloads JSON weather data from OpenWeatherMap.org.\n",
	"project-fetching-current-weather-data_key8": "Converts the `string` of JSON data to a `Python` data structure.\n",
	"project-fetching-current-weather-data_key9": "Prints the weather for today and the next two days.\n",
	"project-fetching-current-weather-data_key10": "So the `code` will need to do the following:\n",
	"project-fetching-current-weather-data_key11": "Join `strings` in sys.argv to get the location.\n",
	"project-fetching-current-weather-data_key12": "Call requests.get() to download the weather data.\n",
	"project-fetching-current-weather-data_key13": "Call json.loads() to convert the JSON data to a `Python` data structure.\n",
	"project-fetching-current-weather-data_key14": "Print the weather forecast.\n",
	"project-fetching-current-weather-data_key15": "For this project, open a new `file` `editor` window and `save` it as quickWeather.py.\n",
	"project-fetching-current-weather-data_key16": "# Step 1: Get Location from the Command Line Argument\n\n",
	"project-fetching-current-weather-data_key17": "The `input` for this program will come from the command line. Make quickWeather.py look like this:\n",
	"project-fetching-current-weather-data_key18": "import json, requests, sys\n",
	"project-fetching-current-weather-data_key19": "if len(sys.argv) < 2:\n    print('Usage: quickWeather.py location')\n    sys.exit()\nlocation = ' '.join(sys.argv[1:])\n",
	"project-fetching-current-weather-data_key20": "In `Python`, command line arguments are stored in the sys.argv list. After the #! shebang line and import `statements`, the program will check that there is more than one command line argument. (Recall that sys.argv will always have at least one element, sys.argv[0], which contains the `Python` script’s `file`name.) If there is only one element in the list, then the user didn’t provide a location on the command line, and a “usage” message will be provided to the user before the program ends.\n",
	"project-fetching-current-weather-data_key21": "Command line arguments are split on spaces. The command line argument San Francisco, CA would make sys.argv hold ['quickWeather.py', 'San', 'Francisco,', 'CA']. Therefore, call the join() method to join all the `strings` except for the first in sys.argv. Store this joined `string` in a `variable` named location.\n",
	"project-fetching-current-weather-data_key22": "# Step 2: Download the JSON Data\n\n",
	"project-fetching-current-weather-data_key23": "OpenWeatherMap.org provides real-time weather information in JSON format. Your program simply has to download the page at <span><a href=\"http://api.openweathermap.org/data/2.5/forecast/daily?q=\">http://api.openweathermap.org/data/2.5/forecast/daily?q=</a></span><Location>&cnt=3, where <Location> is the name of the city whose weather you want. Add the following to quickWeather.py.\n",
	"project-fetching-current-weather-data_key24": "`#! `python3`\n`# quickWeather.py - Prints the weather for a location from the command line.\n",
	"project-fetching-current-weather-data_key25": "--snip--\n",
	"project-fetching-current-weather-data_key26": "url =<span><a href=\"http://api.openweathermap.org/data/2.5/forecast/daily?q=%s&cnt=3'\">http://api.openweathermap.org/data/2.5/forecast/daily?q=%s&cnt=3'</a></span> % (location)\nresponse = requests.get(url)\nresponse.raise_for_status()\n",
	"project-fetching-current-weather-data_key27": "We have location from our command line arguments. To make the URL we want to access, we use the %s placeholder and insert whatever `string` is stored in location into that spot in the URL `string`. We store the result in url and pass url to requests.get(). The requests.get() call returns a Response object, which you can check for `errors` by calling raise_for_status(). If no exception is raised, the downloaded text will be in response.text.\n",
	"project-fetching-current-weather-data_key28": "# Step 3: Load JSON Data and Print Weather\n\n",
	"project-fetching-current-weather-data_key29": "The response.text member `variable` holds a large `string` of JSON-formatted data. To convert this to a `Python` value, call the json.loads() function. The JSON data will look something like this:\n",
	"project-fetching-current-weather-data_key30": "{'city': {'coord': {'lat': 37.7771, 'lon': -122.42},\n          'country': 'United States of America',\n          'id': '5391959',\n          'name': 'San Francisco',\n          'population': 0},\n'cnt': 3,\n'cod': '200',\n'list': [{'clouds': 0,\n          'deg': 233,\n          'dt': 1402344000,\n          'humidity': 58,\n          'pressure': 1012.23,\n          'speed': 1.96,\n          'temp': {'day': 302.29,\n                   'eve': 296.46,\n                   'max': 302.29,\n                   'min': 289.77,\n                   'morn': 294.59,\n                   'night': 289.77},\n          'weather': [{'description': 'sky is clear',\n                       'icon': '01d',\n--snip--\nYou can see this data by passing weatherData to pprint.pprint(). You may want to check <span><a href=\"http://openweathermap.org/\">http://openweathermap.org/</a></span> for more documentation on what these fields mean. For example, the online documentation will tell you that the 302.29 after 'day' is the daytime temperature in Kelvin, not Celsius or Fahrenheit.\n",
	"project-fetching-current-weather-data_key31": "The weather descriptions you want are after 'main' and 'description'. To neatly print them out, add the following to quickWeather.py.\n",
	"project-fetching-current-weather-data_key32": "   ! `python3`\n",
	"project-fetching-current-weather-data_key33": "   # quickWeather.py - Prints the weather for a location from the command line.\n\n\n",
	"project-fetching-current-weather-data_key34": "   --snip--\n",
	"project-fetching-current-weather-data_key35": "Notice how the `code` stores weatherData['list'] in the `variable` w to `save` you some typing ❶. You use w[0], w[1], and w[2] to retrieve the dictionaries for today, tomorrow, and the day after tomorrow’s weather, respectively. Each of these dictionaries has a 'weather' `key`, which contains a list value. You’re interested in the first list item, a nested dictionary with several more `keys`, at index 0. Here, we print the values stored in the 'main' and 'description' `keys`, separated by a hyphen.\n",
	"project-fetching-current-weather-data_key36": "When this program is run with the command line argument quickWeather.py San Francisco, CA, the `output` looks something like this:\n",
	"project-fetching-current-weather-data_key37": "Current weather in San Francisco, CA:\nClear - sky is clear\n",
	"project-fetching-current-weather-data_key38": "Tomorrow:\nClouds - few clouds\n",
	"project-fetching-current-weather-data_key39": "Day after tomorrow:\nClear - sky is clear\n(The weather is one of the reasons I like living in San Francisco!)\n",
	"project-fetching-current-weather-data_key40": "Ideas for Similar Programs\nAccessing weather data can form the basis for many types of programs. You can create similar programs to do the following:\n",
	"project-fetching-current-weather-data_key41": "Collect weather forecasts for several campsites or hiking trails to see which one will have the best weather.\n",
	"project-fetching-current-weather-data_key42": "Schedule a program to regularly check the weather and send you a frost alert if you need to move your plants indoors. (Chapter 15 covers scheduling, and Chapter 16 explains how to send email.)\n",
	"project-fetching-current-weather-data_key43": "Pull weather data from multiple sites to show all at once, or calculate and show the average of the multiple weather predictions.\n",
	"project-fetching-current-weather-data_key44": "# Summary\n\n",
	"project-fetching-current-weather-data_key45": "CSV and JSON are common plaintext formats for storing data. They are easy for programs to parse while still being human readable, so they are often used for simple spreadsheets or web app data. The csv and json modules greatly simplify the process of reading and writing to CSV and JSON `files`.\n",
	"project-fetching-current-weather-data_key46": "The last few chapters have taught you how to use `Python` to parse information from a wide variety of `file` formats. One common task is taking data from a variety of formats and parsing it for the particular information you need. These tasks are often specific to the point that commercial software is not optimally helpful. By writing your own scripts, you can make the computer handle large amounts of data presented in these formats.\n",
	"project-fetching-current-weather-data_key47": "In Chapter 15, you’ll break away from data formats and learn how to make your programs communicate with you by sending emails and text messages.\n"
}