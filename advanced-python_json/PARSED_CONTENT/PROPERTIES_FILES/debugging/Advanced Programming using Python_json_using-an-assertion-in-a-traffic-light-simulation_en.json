{
	"using-an-assertion-in-a-traffic-light-simulation_key1": "Using an Assertion in a Traffic Light Simulation",
	"using-an-assertion-in-a-traffic-light-simulation_key2": "Say you’re building a traffic light simulation program. The data structure representing the stoplights at an intersection is a dictionary with <span style=\"\">keys</span> 'ns' and 'ew', for the stoplights facing north-south and east-west, respectively. The values at these <span style=\"\">keys</span> will be one of the <span style=\"\">strings</span> 'green', ' yellow', or 'red'. The <span style=\"\">code</span> would look something like this:",
	"using-an-assertion-in-a-traffic-light-simulation_key3": "market<i>2nd = {'ns': 'green', 'ew': 'red'}<br>mission</i>16th = {'ns': 'red', 'ew': 'green'}<br>These two <span style=\"\">variables</span> will be for the intersections of Market Street and 2nd Street, and Mission Street and 16th Street. To start the project, you want to write a switchLights() function, which will take an intersection dictionary as an argument and switch the lights.",
	"using-an-assertion-in-a-traffic-light-simulation_key4": "At first, you might think that switchLights() should simply switch each light to the next color in the sequence: Any 'green' values should change to 'yellow', 'yellow' values should change to 'red', and 'red' values should change to 'green'. The <span style=\"\">code</span> to implement this idea might look like this:",
	"using-an-assertion-in-a-traffic-light-simulation_key5": "def switchLights(stoplight):<br>    for <span style=\"\">key</span> in stoplight.<span style=\"\">keys</span>():<br>        if stoplight[<span style=\"\">key</span>] == 'green':<br>            stoplight[<span style=\"\">key</span>] = 'yellow'<br>        elif stoplight[<span style=\"\">key</span>] == 'yellow':<br>            stoplight[<span style=\"\">key</span>] = 'red'<br>        elif stoplight[<span style=\"\">key</span>] == 'red':<br>            stoplight[<span style=\"\">key</span>] = 'green'",
	"using-an-assertion-in-a-traffic-light-simulation_key6": "switchLights(market_2nd)<br>You may already see the problem with this <span style=\"\">code</span>, but let’s pretend you wrote the rest of the simulation <span style=\"\">code</span>, thousands of lines long, without noticing it. When you finally do run the simulation, the program doesn’t crash—but your virtual cars do!",
	"using-an-assertion-in-a-traffic-light-simulation_key7": "Since you’ve already written the rest of the program, you have no idea where the bug could be. Maybe it’s in the <span style=\"\">code</span> simulating the cars or in the <span style=\"\">code</span> simulating the virtual drivers. It could take hours to trace the bug back to the switchLights() function.",
	"using-an-assertion-in-a-traffic-light-simulation_key8": "But if while writing switchLights() you had added an assertion to check that at least one of the lights is always red, you might have included the following at the bottom of the function:",
	"using-an-assertion-in-a-traffic-light-simulation_key9": "assert 'red' in stoplight.values(), 'Neither light is red! ' + str(stoplight)<br>With this assertion in place, your program would crash with this <span style=\"\">error</span> message:",
	"using-an-assertion-in-a-traffic-light-simulation_key10": "Traceback (most recent call last):<br>     <span style=\"\">File</span> \"carSim.py\", line 14, in <module><br>       switchLights(market_2nd)<br>     <span style=\"\">File</span> \"carSim.py\", line 13, in switchLights<br>       assert 'red' in stoplight.values(), 'Neither light is red! ' + str(stoplight)<br>❶ Assertion<span style=\"\">Error</span>: Neither light is red! {'ns': 'yellow', 'ew': 'green'}<br>The important line here is the Assertion<span style=\"\">Error</span> ❶. While your program crashing is not ideal, it immediately points out that a sanity check failed: Neither direction of traffic has a red light, meaning that traffic could be going both ways. By failing fast early in the program’s execution, you can <span style=\"\">save</span> yourself a lot of future debugging effort."
}